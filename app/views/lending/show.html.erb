<% presenter = LendingItemShowPresenter.new(self, @lending_item) %>

<% content_for(:page_title, "UC BEARS: #{@lending_item.title}") %>
<h1>UC BEARS (UC Berkeley Electronic and Accessible Reserves System)</h1>

<section class="record">
  <table>
    <thead>
    <tr>
      <th>
        <h2>
          <%= presenter.title %>
        </h2>
      </th>
    </tr>
    </thead>
  </table>

  <% if presenter.show_viewer? %>
    <% content_for(:head_additional) do %>
      <%= javascript_include_tag('mirador_extensions') %>
    <% end %>
    <%=
      render(
        partial: 'viewer',
        locals: {
          manifest_url: manifest_url,
          viewer_title: presenter.viewer_title,
        }
      )
    %>
  <% end %>

  <table class="item-metadata">
    <% presenter.fields.each do |label, value| %>
      <tr>
        <th><%= label %></th>
        <td><%= format_value(value) %></td>
      </tr>
    <% end %>
    <% presenter.actions.each do |action| %>
    <tr>
      <th class="action">
        <%= action %>
      </th>
    </tr>
    <% end %>
  </table>
</section>
