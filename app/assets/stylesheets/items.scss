@import 'includes/globals';

section.items-admin {
  display: grid;
  grid-template-columns: max-content minmax(0, 1fr);
  column-gap: $margin;
  row-gap: $margin-large;

  aside.flash {
    grid-column: 1 / 3;
  }

  form.item-search {
    grid-column: 1 / 3;
    display: contents;

    font-size: $font-size-small;
    line-height: $line-height;

    label {
      grid-column: 1;
      font-weight: bold;
      white-space: nowrap;
      align-self: center;

      margin-bottom: $margin;
    }

    div.item-search-field {
      grid-column: 2;
      display: grid;
      grid-template-columns: 40% min-content;
      justify-content: start;
      gap: $margin;

      margin-bottom: $margin;

      input {
        font-size: $font-size-xsmall;
        line-height: $line-height;
      }

      button {
        font-size: $font-size-xsmall;
        line-height: $line-height;
      }
    }
  }

  form.item-facets {
    grid-column: 1;
    font-size: $font-size-small;
    line-height: $line-height;

    padding-right: $margin;
    border-right: 1px dotted $color-row-divider;

    fieldset {
      display: grid;
      grid-template-columns: min-content minmax(0, 1fr);
      align-items: center;
      column-gap: $margin-small;
      margin-bottom: $margin;

      legend {
        display: block;
        grid-column-start: 1;
        grid-column-end: 2;
        font-weight: bold;
      }

      input[type="checkbox"] {
        grid-column: 1;
      }

      label {
        grid-column: 2;
        white-space: nowrap;
        display: inline-block;
      }
    }
  }

  table {
    grid-column: 2;
    width: 100%;

    caption {
      text-align: left;
      font-size: $font-size-xsmall;
      line-height: $line-height;

      // TODO: find less hacky way to align with facets
      margin-top: -(7 * $line-height / 6);
      margin-bottom: $line-height / 6;
      margin-left: $margin-xxsmall;
    }

    thead {
      th {
        text-align: left;
        font-size: $font-size-small;
        line-height: $line-height;

        padding: $margin-small $margin;
      }
    }

    tbody {
      font-size: $font-size-small;
      line-height: $line-height;

      td {
        &:not(:last-of-type) {
          padding-right: 0;
        }

        padding-left: $margin-small;

        &.control {
          text-align: center;
          padding-left: 0;
        }

        &.date {
          text-align: justify;
          font-variant-numeric: tabular-nums lining-nums;
        }

        ul {
          li {
            white-space: nowrap;

            input {
              vertical-align: baseline;
            }

            label {
              display: inline-block;
              vertical-align: top;
            }
          }
        }

        p {
          font-size: inherit;
          margin: 0;

          &.title {
            font-weight: $font-weight-bold;
            margin-top: 0;
          }

          &.author-name {
            font-weight: $font-weight-medium;
          }

          &.metadata {
            font-size: $font-size-xxsmall;
            line-height: $line-height;
          }
        }
      }
    }
  }

  nav.pagination {
    grid-column: 1 / 3;

    display: flex;
    justify-content: center;

    ul {
      display: flex;
      gap: $margin;
      margin: $margin;
      font-size: $font-size-xsmall;

      li {
        display: inline-block;
      }
    }
  }

  input[type="number"] {
    font-size: $font-size-xsmall;
    line-height: $line-height;
    width: $font-size-xxlarge;
    text-align: center;
    font-variant-numeric: tabular-nums lining-nums;
    font-family: sans-serif;
  }

  a.icon-link {
    display: contents;
  }

  button.delete {
    -webkit-appearance: none;
    appearance: none;
    border: 0;
    background: none;
    display: inline-block;
    padding: 0;
    margin: 0;
    height: $font-size-small;
    width: $font-size-small;

    &[disabled] {
      img.action {
        filter: invert(75%);

        &:hover, &:focus {
          border: 3px solid transparent;
          background-color: transparent;
        }
      }
    }
  }

  img.action {
    display: inline-block;
    height: $font-size-xsmall;
    width: $font-size-xsmall;
    border: 3px solid transparent;
    border-radius: 4px;

    &:hover, &:focus {
      border: 3px solid $color-anchor-highlight;
      background-color: $color-anchor-highlight;
    }
  }

}
